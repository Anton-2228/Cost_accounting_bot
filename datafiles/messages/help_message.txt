<b>Немного мета информации:</b>

<u>Бот делался для себя</u>, в следствие чего нормальных тестов на дурака не было, а значит там могут быть некоторые не отловленные баги.

В боте реализована обработка товарных чеков, однако, если вы решите всерьез пользоваться этим ботом, у вас будут проблемы с этим функционалом.

Чтобы быть независимым от инструментов, которые дает ФНС России, нужно писать свой мобильный qr-сканер, а мне очень лень. Напишу в случае, если решу этого бота допилить для вывода на рынок.

Сейчас этот функционал реализован через сканирование qr-кодов на чеках с помощью приложения "Проверка чеков" от ФНС. Текст отсканированных там чеков отправляется в бота в тг (@Cheki_FNS_bot), который также за авторством ФНС.

Для того, чтобы обрабатывать сообщения в этом боте от ФНС, нужно получать доступ к тг аккаунту, а я думаю, вы не очень хотите отдавать мне доступ к нему.

<u>Это работает, если ботом пользуюсь только я, но с другими не сработает.</u>

Если вам ОЧЕНЬ надо, то напишите мне, я небольшим костылем сделаю таки возможность работать с чеками кому угодно (вам придется пересылать сообщение с текстом чека в этого бота).

Мой тг - @antomimimus

---------------

<b>Основная справка:</b>

Перед началом требуется небольшая настройка.

Откройте таблицу по ссылке выше, там вы увидите листы категорий, источников, записей и итога на нынешний месяц.



В лист категорий необходимо внести все категории расходов и доходов, которые у вас есть.

<b>Предназначение столбцов:</b>

<b>ID</b> - заполняется само, вас не касается
<b>Active</b> - активна ли категория. Если стоит 1, значит активна, если 0, то нет (считай не существует)
<b>Income/Cost</b> - категория доходов или расходов. В соответствующей колонке ставите 1, в другой 0
<b>Name</b> - название категории. Должно состоять из 1 слова
<b>Associations</b> - синонимы этой категории. Записываются строго через пробел без разделительных знаков. При добавлении новой записи о расходе/доходе можно будет писать как название, так и любой синоним. Не нужно дублировать название в синонимы, это произойдет автоматически
<b>Product types</b> - типы товаров, которые могут быть в этой категории. Записываются строго через запятую. Эти значения будут использоваться при обработке чеков. Товары с помощью GPT-4o будут распределяться по этим типам. Например, тип молоко, спортивные товары, книги и т.д.



В лист источников необходимо внести все источники, откуда могут списываться, либо куда могут поступать деньги. Одинаковые с категориями столбцы заполняются аналогичным образом.

<b>Start balance</b> - стартовый баланс источника.

После каких-либо изменений в категориях или источниках необходимо ввести команду /sync, чтобы синхронизировать изменения.

Для удаления категории или источника необходимо стереть все его поля (кроме ID, разумеется).



Третий лист — это лист расходов в текущем месяце. Каждый новый месяц будет создаваться новый лист.



<u>Главное, зачем я делал бота — обработка чеков.</u>

<b>Что нужно, чтобы начать этим пользоваться:</b>
1) Скачать приложение "Проверка чеков". Зарегистрироваться там со своим номером телефона.
2) Стартануть бота @Cheki_FNS_bot и также зарегистрироваться там со своим номером телефона.
3) Написать мне, чтобы я добавил вас в системе (не забывайте, что в таком случае у меня будет фактический доступ ко ВСЕМУ вашему аккаунту).

Теперь, сканируя чек в "Проверка чеков", он будет заноситься в базу.

Прописав команду /check, вы приступите к обработке чеков. GPT-4o будет помогать распределять товары по типам и категориям.

По началу придется править типы и категории руками, однако где-то через месяц ваши основные траты начнут распределяться автоматически правильно, и все, что вам нужно будет написать самим — это источник, с которого списались деньги за этот чек.

<b>МОЛЮ ВАС НЕ ПЕРЕИМЕНОВЫВАЙТЕ ЛИСТЫ. У GOOGLE ОЧЕНЬ КРИВОЕ API ДЛЯ ГУГЛ ТАБЛИЦ, КОТОРОЕ ФАКТИЧЕСКИ НЕ ДАЕТ ЗАПРЕТИТЬ ПЕРЕИМЕНОВАТЬ ЛИСТЫ</b>



<b>Пример настроенной таблицы:</b>
https://docs.google.com/spreadsheets/d/1XhRBuBxXmMXfR093ef3S6MgY-fv3DxDZapANJUEQsVs/edit?gid=1888099909#gid=1888099909



Если найдете баги или ошибки, вы знаете кому писать.
